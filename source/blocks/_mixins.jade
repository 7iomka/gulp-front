//-//////////////////////////////////////////////////////////
//- BEM FORMS
//-//////////////////////////////////////////////////////////

mixin bem-input-label(labeltext)
	if (labeltext)
		label(for=name).b-form__label!= labeltext
			span.b-form__label_required  *


mixin bem-input-errors(errors)
	if (errors)
		ul.b-form__errors
			each errorsent, errorsnum in errors
				li= errorsent
	

mixin bem-input-hint(hint)
	if (hint)
		.b-form__hint= hint


mixin bem-input-helpers(hint, errors)
	if (errors || hint)
		.b-form__helpers
			+bem-input-hint(hint)
			+bem-input-errors(errors)


mixin bem-input-wrapper(type, name, labeltext, value, placeholder, hint, errors)
	if (errors)
		-var errorclass='b-form__item_error'

	.b-form__item(class=errorclass, class="b-form__item_#{type}")
		+bem-input-label(labeltext)

		.b-form__input
			block

		+bem-input-helpers(hint, errors)

		.clear




mixin bem-input(name, labeltext, value, placeholder, hint, errors)
	+bem-input-wrapper('text', name, labeltext, value, placeholder, hint, errors)
		input(type="text", value=value, name=name, placeholder=placeholder, id=name)


mixin bem-file(name, labeltext, value, placeholder, hint, errors)
	+bem-input-wrapper('file', name, labeltext, value, placeholder, hint, errors)
		input(type="file", value=value, name=name, placeholder=placeholder, id=name)

	

mixin bem-textarea(name, labeltext, value, placeholder, hint, errors)
	+bem-input-wrapper('textarea', name, labeltext, value, placeholder, hint, errors)
		textarea(name=name, cols="80", rows="24", placeholder=placeholder, id=name)= value
	


mixin bem-select(name, labeltext, value, hint, errors)
	+bem-input-wrapper('select', name, labeltext, value, placeholder, hint, errors)
		select(name=name, id=name)
			each selectent, selectnum  in value
				option(value=selectnum, label=selectent)= selectent

	
mixin bem-multiselect(name, labeltext, value, size, hint, errors)
	+bem-input-wrapper('multiselect', name, labeltext, value, placeholder, hint, errors)
		select(name=name, id=name, multiple="multiple", size=size)
			each selectent, selectnum  in value
				option(value=selectnum, label=selectent)= selectent



mixin bem-radio(name, id, labeltext, checked, disabled)
	.b-form__item.b-form__item_radio
		if (checked)
			if (disabled)
				input(type="radio", name=name, id=id, value=id, checked=true, disabled=true)
			else
				input(type="radio", name=name, id=id, value=id, checked=true, disabled=false)
		else
			if (disabled)
				input(type="radio", name=name, id=id, value=id, checked=false, disabled=true)
			else
				input(type="radio", name=name, id=id, value=id, checked=false, disabled=false)

		label(for="#{id}").b-form__label!= labeltext
		.clear


mixin bem-checkbox(name, id, labeltext, checked, disabled)
	.b-form__item.b-form__item_checkbox
		if (checked)
			if (disabled)
				input(type="checkbox", name=name, id=id, value=id, checked=true, disabled=true)
			else
				input(type="checkbox", name=name, id=id, value=id, checked=true, disabled=false)
		else
			if (disabled)
				input(type="checkbox", name=name, id=id, value=id, checked=false, disabled=true)
			else
				input(type="checkbox", name=name, id=id, value=id, checked=false, disabled=false)
		if (labeltext)
			label(for="#{id}").b-form__label!= labeltext
		.clear



mixin bem-captcha(labeltext, image)
	if (errors)
		-var errorclass='b-form_error'

	.b-form__item.b-form_captcha(class=errorclass)
		if (labeltext)
			label(for="#{name}").b-form__label!= labeltext
				span.b-form__label_required  *
		.b-form__input-image
			a(href="#", title="Дайте другой код!")
					img(src=image, alt="Секретный код!")

		.b-form__input
			input(type="text", name="captcha", value="")


		+bem-input-helpers(hint, errors)

		.clear








//-//////////////////////////////////////////////////////////
//- Zendy forms
//-//////////////////////////////////////////////////////////

mixin input-errors(errors)
	if (errors)
			ul.errors
				each errorsent, errorsnum in errors
					li= errorsent

mixin input-hint(hint)
	if (hint)
		p.hint= hint

mixin for-input-wrapper()
	.for-input
		.text
			block

mixin input-label(name, labeltext)
	if (labeltext)
		label(for="#{name}").required= labeltext
			span  *

mixin input-wrapper(name, labeltext, value, hint, errors)
	.item
		+input-label(name, labeltext)
		+for-input-wrapper()
			block

		+input-errors(errors)
		+input-hint(hint)

		.clear

mixin input(name, labeltext, value, hint, errors)
	+input-wrapper(name, labeltext, value, hint, errors)
		input(type="text", value="#{value}", id="#{name}", name="#{name}")


mixin textarea(name, labeltext, value, hint, errors)
	+input-wrapper(name, labeltext, value, hint, errors)
		textarea(name="#{name}", cols="80", rows="24", id="#{name}")= value


mixin select(name, labeltext, value, hint, errors)
	+input-wrapper(name, labeltext, value, hint, errors)
		select(name="#{name}", id="#{name}")
			each selectent, selectnum  in value
				option(value="#{selectnum}", label="#{selectent}")= selectent
		


mixin multiselect(name, labeltext, value, size, hint, errors)
	+input-wrapper(name, labeltext, value, hint, errors)
		select(name="#{name}", id="#{name}", multiple="multiple", size=size)
			each selectent, selectnum  in value
				option(value="#{selectnum}", label="#{selectent}")= selectent
		

mixin radio(name, id, labeltext, checked, disabled)
	.item.radio
		if (checked)
			if (disabled)
				input(type="radio", name="#{name}", id="#{id}", value="#{id}", checked=true, disabled=true)
			else
				input(type="radio", name="#{name}", id="#{id}", value="#{id}", checked=true, disabled=false)
		else
			if (disabled)
				input(type="radio", name="#{name}", id="#{id}", value="#{id}", checked=false, disabled=true)
			else
				input(type="radio", name="#{name}", id="#{id}", value="#{id}", checked=false, disabled=false)

		label(for="#{id}").required= labeltext
		.clear


mixin checkbox(name, id, labeltext, checked, disabled)
	.item.checkbox
		if (checked)
			if (disabled)
				input(type="checkbox", name="#{name}", id="#{id}", value="#{id}", checked=true, disabled=true)
			else
				input(type="checkbox", name="#{name}", id="#{id}", value="#{id}", checked=true, disabled=false)
		else
			if (disabled)
				input(type="checkbox", name="#{name}", id="#{id}", value="#{id}", checked=false, disabled=true)
			else
				input(type="checkbox", name="#{name}", id="#{id}", value="#{id}", checked=false, disabled=false)

		label(for="#{id}").required= labeltext
		.clear



mixin captcha(labeltext, image)
	.item.captcha
		+input-label('captcha', labeltext)

		.for-input
			.text-mini
				a(href="#", title="Дайте другой код!").captcha-refresh
					img(src=image, alt="Секретный код!", id="captcha_image")
				input(type="text", name="captcha", id="captcha", value="", class="text")
		.clear



//-//////////////////////////////////////////////////////////
//- Other form elements
//-//////////////////////////////////////////////////////////

mixin inputGroup(labeltext)
	.b-input-group
		if (labeltext)
			label.b-input-group__label!= labeltext

		fieldset.b-input-group__body
			block
		.clear



//-//////////////////////////////////////////////////////////
//- Other mixins
//-//////////////////////////////////////////////////////////


mixin ie(condition)
	| 
	| <!--[!{condition}]>
	block
	| 
	| <![endif]-->
	| 
